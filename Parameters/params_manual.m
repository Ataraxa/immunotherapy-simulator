%% Sum of MSE cost function
% params.td = 2.3936;
% params.t_delay = 4.4440;
% params.t_last = 9.9584;
% params.t_delay12 = 7.4576;
% params.t_last12 = 4.3393;
% params.k1 = 2.8301;
% params.k2 = 9.7148;
% params.k3 = 154.1511;
% params.k4 =  905.0125;
% params.k5 =  3.3360;
% params.k6 = 7.3210;
% params.d1 =  2.4049;
% params.d2 = 13.3517;
% params.d3 = 4.9402;
% params.d4 = 7.2686;
% params.d5 = 5.0556;
% params.d6 = 0.1195;
% params.d7 = 95.4201;
% params.d8 =  2.3831;
% params.s1 =  6.9216;
% params.s2 =  4.6121;
% params.ig0 = 0.2030;
% params.c0 = 9.0208;
% params.p0 =  14.9862;
% params.vl0 =  6.3474;

%% Negative cost function
% params.td = 1.4418;
% params.t_delay = 0.3863;
% params.t_last = 4.8702;
% params.t_delay12 = 3.7658;
% params.t_last12 = 1.2261;
% params.k1 = 0.1560;
% params.k2 = 4.7700;
% params.k3 = 82.2656;
% params.k4 =  1.2773e+03;
% params.k5 =  5.2940;
% params.k6 = 0.5388;
% params.d1 =  10.9429;
% params.d2 =  11.3506;
% params.d3 =  1.0784;
% params.d4 = 5.9019;
% params.d5 =  0.0181;
% params.d6 =  0.0371;
% params.d7 = 46.7460;
% params.d8 =  0.5733;
% params.s1 =  14.8803;
% params.s2 =  0.3850;
% params.ig0 = 0.0083;
% params.c0 =  10.5017;
% params.p0 =  4.0507;
% params.vl0 =  7.7531;

%% Hybrid pos-neg cost function (width = .1)
% params.td = 1.5070;
% params.t_delay = 0.4137;
% params.t_last = 5.0208;
% params.t_delay12 = 3.3984;
% params.t_last12 = 1.4805;
% params.k1 = 0.1867;
% params.k2 = 4.9003;
% params.k3 = 79.1782;
% params.k4 =  1.3007e+03;
% params.k5 =  4.5889;
% params.k6 = 0.4566;
% params.d1 =  10.7644;
% params.d2 =  10.1560;
% params.d3 =  1.0073;
% params.d4 = 5.8834;
% params.d5 =  0.0203;
% params.d6 =  0.0407;
% params.d7 = 49.3576;
% params.d8 =  0.5698;
% params.s1 =  16.8863;
% params.s2 =  0.3765;
% params.ig0 = 0.0092;
% params.c0 =   9.9843;
% params.p0 =  4.4132;
% params.vl0 =  6.3555;

%% Hypripd pos-neg cost function (width = .25)
% params.td = 1.7133;
% params.t_delay = 0.4380;
% params.t_last = 4.4679;
% params.t_delay12 = 3.6779;
% params.t_last12 = 1.6969;
% params.k1 = 0.2113;
% params.k2 = 4.8870;
% params.k3 = 69.0941;
% params.k4 =  1.4339e+03;
% params.k5 = 5.3176;
% params.k6 = 0.3691;
% params.d1 =  7.6374;
% params.d2 =  10.6819;
% params.d3 =  1.2039;
% params.d4 = 5.7701;
% params.d5 =  0.0245;
% params.d6 =  0.0497;
% params.d7 = 64.7796;
% params.d8 =  0.7599;
% params.s1 =  14.0752;
% params.s2 =  0.2660;
% params.ig0 = 0.0108;
% params.c0 =   8.9998;
% params.p0 =  3.4140;
% params.vl0 =  5.2950;

%% modCost (division par nb)
% params.td = 1.3460;
% params.t_delay = 0.3442;
% params.t_last = 4.9806;
% params.t_delay12 =3.4746;
% params.t_last12 =  1.4442;
% params.k1 = 0.1838;
% params.k2 = 4.9124;
% params.k3 = 75.9489;
% params.k4 =1.2479e+03;
% params.k5 = 4.5160;
% params.k6 =0.5282;
% params.d1 = 9.5069;
% params.d2 = 11.8739;
% params.d3 =  1.0049;
% params.d4 = 5.5087;
% params.d5 =  0.0190;
% params.d6 =  0.0437;
% params.d7 = 55.1667;
% params.d8 = 0.5713;
% params.s1 = 15.3912;
% params.s2 =  0.3279;
% params.ig0 = 0.0081;
% params.c0 =  9.8120;
% params.p0 =  4.1755;
% params.vl0 = 6.4418;

%% modCost (multiplication)
% params.td = 1.3460;
% params.t_delay = 0.3442;
% params.t_last = 4.9806;
% params.t_delay12 =3.4746;
% params.t_last12 =  1.4442;
% params.k1 = 0.1838;
% params.k2 = 4.9124;
% params.k3 = 75.9489;
% params.k4 =1.2479e+03;
% params.k5 = 4.5160;
% params.k6 =0.5282;
% params.d1 = 9.5069;
% params.d2 = 11.8739;
% params.d3 =  1.0049;
% params.d4 = 5.5087;
% params.d5 =  0.0190;
% params.d6 =  0.0437;
% params.d7 = 55.1667;
% params.d8 = 0.5713;
% params.s1 = 15.3912;
% params.s2 =  0.3279;
% params.ig0 = 0.0081;
% params.c0 =  9.8120;
% params.p0 =  4.1755;
% params.vl0 = 6.4418;

%% test
params.td = 1.5560;
params.t_delay = 0.4151;
params.t_last = 5.2695;
params.t_delay12 = 3.9868;
params.t_last12 = 1.3903;
params.k1 = 0.1942;
params.k2 = 6.0401;
params.k3 = 79.5663;
params.k4 = 1.0546e+03;
params.k5 = 5.4378;
params.k6 = 0.4901;
params.d1 = 11.3173;
params.d2 = 9.7233;
params.d3 = 1.2598;
params.d4 = 4.8524;
params.d5 = 0.0171;
params.d6 = 0.0381;
params.d7 = 51.3708;
params.d8 = 0.5607;
params.s1 = 14.5359;
params.s2 =  0.3434;
params.ig0 = 0.0084;
params.c0 =  9.5608;
params.p0 =  4.9575;
params.vl0 = 6.658;

save('Parameters/struct_manual.mat', 'params')
fprintf("Successfully saved new settings!\n")
